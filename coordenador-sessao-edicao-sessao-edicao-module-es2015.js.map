{"version":3,"sources":["./src/app/coordenador/sessao-edicao/sessao-edicao.page.html","./src/app/coordenador/sessao-edicao/sessao-edicao.module.ts","./src/app/coordenador/sessao-edicao/sessao-edicao.page.scss","./src/app/coordenador/sessao-edicao/sessao-edicao.page.ts"],"names":[],"mappings":"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","file":"coordenador-sessao-edicao-sessao-edicao-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar color=\\\"primary\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button defaultHref=\\\"/coordenador/sessoes\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n      \\r\\n    <ion-title>Nova Sessão</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n    <ion-list>\\r\\n      <ion-item>\\r\\n        <ion-label>Data da sessão</ion-label>\\r\\n        <ion-datetime display-format=\\\"DD/MM/YYYY\\\" [(ngModel)]=\\\"sessao.data\\\" max=\\\"2030-12-30\\\" doneText=\\\"Ok\\\" cancelText=\\\"Cancelar\\\"></ion-datetime>\\r\\n      </ion-item>\\r\\n    </ion-list>\\r\\n    <ion-button (click)=\\\"salvar()\\\" expand=\\\"full\\\" size=\\\"large\\\" [disabled]=\\\"!sessao.data\\\">\\r\\n      Salvar\\r\\n    </ion-button>\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SessaoEdicaoPage } from './sessao-edicao.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SessaoEdicaoPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [SessaoEdicaoPage]\r\n})\r\nexport class SessaoEdicaoPageModule {}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Nvb3JkZW5hZG9yL3Nlc3Nhby1lZGljYW8vc2Vzc2FvLWVkaWNhby5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { SessaoService } from 'src/app/services/sessao.service';\r\nimport { Sessao } from 'src/app/models/sessao';\r\nimport { ToastController, LoadingController, Events } from '@ionic/angular';\r\nimport { Router } from '@angular/router';\r\nimport * as moment from 'moment';\r\nimport { NavExtrasService } from 'src/app/services/nav-extras.service';\r\n\r\n@Component({\r\n  selector: 'app-sessao-edicao',\r\n  templateUrl: './sessao-edicao.page.html',\r\n  styleUrls: ['./sessao-edicao.page.scss'],\r\n})\r\nexport class SessaoEdicaoPage implements OnInit {\r\n\r\n  sessao = new Sessao();\r\n  constructor(private sessaoService:SessaoService, private events: Events, private navExtra:NavExtrasService, private toastController: ToastController, private router:Router, private loadingController: LoadingController) { }\r\n\r\n  ngOnInit() {\r\n    this.sessao = this.navExtra.get('sessao', new Sessao());\r\n  }\r\n\r\n  /**\r\n   * Função responsável por cadastrar ou editar a data da sessão\r\n   */\r\n  public async salvar() {\r\n    let loading = await this.loadingController.create({\r\n      message: 'Aguarde',\r\n      animated:true,\r\n      backdropDismiss: false,\r\n      spinner:'circles'\r\n    });\r\n    loading.present();\r\n    this.sessao.data = moment(this.sessao.data).format('YYYY-MM-DD');\r\n    console.log(this.sessao);\r\n    if (!this.sessao.id) { //Cadastro\r\n      let sucesso = await this.sessaoService.cadastrar(this.sessao);\r\n      if (sucesso === true) {\r\n        loading.dismiss()\r\n        this.toastController.create({message: 'Cadastrado com sucesso', duration: 3000 }).then(t => t.present());\r\n        this.events.publish('sessoes:atualizar', true);\r\n        this.router.navigateByUrl('/coordenador/sessoes')\r\n      } else {\r\n        this.toastController.create({message: 'Houve uma falha ao cadastrar a tarefa', duration: 3000}).then(t => t.present());\r\n      }\r\n    } else { //Edição\r\n      let sucesso = await this.sessaoService.atualizar(this.sessao);\r\n      if (sucesso === true) {\r\n        this.toastController.create({message: 'Atualizado com sucesso', duration: 3000 }).then(t => t.present());\r\n        this.events.publish('sessoes:atualizar', true);\r\n      } else \r\n        this.toastController.create({message: 'Houve uma falha ao cadastrar a tarefa', duration: 3000}).then(t => t.present());\r\n    }\r\n    loading.dismiss()\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}