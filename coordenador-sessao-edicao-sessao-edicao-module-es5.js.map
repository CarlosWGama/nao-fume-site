{"version":3,"sources":["./src/app/coordenador/sessao-edicao/sessao-edicao.page.html","./src/app/coordenador/sessao-edicao/sessao-edicao.module.ts","./src/app/coordenador/sessao-edicao/sessao-edicao.page.scss","./src/app/coordenador/sessao-edicao/sessao-edicao.page.ts"],"names":[],"mappings":"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","file":"coordenador-sessao-edicao-sessao-edicao-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar color=\\\"primary\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button defaultHref=\\\"/coordenador/sessoes\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n      \\r\\n    <ion-title>Nova Sessão</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n    <ion-list>\\r\\n      <ion-item>\\r\\n        <ion-label>Data da sessão</ion-label>\\r\\n        <ion-datetime display-format=\\\"DD/MM/YYYY\\\" [(ngModel)]=\\\"sessao.data\\\" max=\\\"2030-12-30\\\" doneText=\\\"Ok\\\" cancelText=\\\"Cancelar\\\"></ion-datetime>\\r\\n      </ion-item>\\r\\n    </ion-list>\\r\\n    <ion-button (click)=\\\"salvar()\\\" expand=\\\"full\\\" size=\\\"large\\\" [disabled]=\\\"!sessao.data\\\">\\r\\n      Salvar\\r\\n    </ion-button>\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SessaoEdicaoPage } from './sessao-edicao.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SessaoEdicaoPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [SessaoEdicaoPage]\r\n})\r\nexport class SessaoEdicaoPageModule {}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Nvb3JkZW5hZG9yL3Nlc3Nhby1lZGljYW8vc2Vzc2FvLWVkaWNhby5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { SessaoService } from 'src/app/services/sessao.service';\r\nimport { Sessao } from 'src/app/models/sessao';\r\nimport { ToastController, LoadingController, Events } from '@ionic/angular';\r\nimport { Router } from '@angular/router';\r\nimport * as moment from 'moment';\r\nimport { NavExtrasService } from 'src/app/services/nav-extras.service';\r\n\r\n@Component({\r\n  selector: 'app-sessao-edicao',\r\n  templateUrl: './sessao-edicao.page.html',\r\n  styleUrls: ['./sessao-edicao.page.scss'],\r\n})\r\nexport class SessaoEdicaoPage implements OnInit {\r\n\r\n  sessao = new Sessao();\r\n  constructor(private sessaoService:SessaoService, private events: Events, private navExtra:NavExtrasService, private toastController: ToastController, private router:Router, private loadingController: LoadingController) { }\r\n\r\n  ngOnInit() {\r\n    this.sessao = this.navExtra.get('sessao', new Sessao());\r\n  }\r\n\r\n  /**\r\n   * Função responsável por cadastrar ou editar a data da sessão\r\n   */\r\n  public async salvar() {\r\n    let loading = await this.loadingController.create({\r\n      message: 'Aguarde',\r\n      animated:true,\r\n      backdropDismiss: false,\r\n      spinner:'circles'\r\n    });\r\n    loading.present();\r\n    this.sessao.data = moment(this.sessao.data).format('YYYY-MM-DD');\r\n    console.log(this.sessao);\r\n    if (!this.sessao.id) { //Cadastro\r\n      let sucesso = await this.sessaoService.cadastrar(this.sessao);\r\n      if (sucesso === true) {\r\n        loading.dismiss()\r\n        this.toastController.create({message: 'Cadastrado com sucesso', duration: 3000 }).then(t => t.present());\r\n        this.events.publish('sessoes:atualizar', true);\r\n        this.router.navigateByUrl('/coordenador/sessoes')\r\n      } else {\r\n        this.toastController.create({message: 'Houve uma falha ao cadastrar a tarefa', duration: 3000}).then(t => t.present());\r\n      }\r\n    } else { //Edição\r\n      let sucesso = await this.sessaoService.atualizar(this.sessao);\r\n      if (sucesso === true) {\r\n        this.toastController.create({message: 'Atualizado com sucesso', duration: 3000 }).then(t => t.present());\r\n        this.events.publish('sessoes:atualizar', true);\r\n      } else \r\n        this.toastController.create({message: 'Houve uma falha ao cadastrar a tarefa', duration: 3000}).then(t => t.present());\r\n    }\r\n    loading.dismiss()\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}